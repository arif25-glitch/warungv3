(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{5051:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contents/delete_stuff",function(){return n(1413)}])},1413:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(5893),a=n(7963),s=n(4225),i=n(5512),l=n(9778),c=n(4859),u=n(4346),o=n(1557),d=n(991),h=n(9840),x=n(510),j=n(4693),f=n(5115),m=n(4698),_=n(4253),p=n(5541),g=n(5260),b=n(6205),v=n(7747),C=n(5161),T=n(1025),w=n(967),S=n(7294);let k=e=>{let{isOpen:t,onOpen:n,onClose:p}=(0,w.q)(),g=S.useRef(),b=(0,a.p)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.z,{colorScheme:"messenger",onClick:n,width:"100%",children:[e.nama_barang," | ",e.satuan]}),(0,r.jsx)(i.a,{isOpen:t,leastDestructiveRef:g,onClose:p,children:(0,r.jsx)(l.Z,{children:(0,r.jsxs)(i._,{children:[(0,r.jsx)(c.x,{fontSize:"lg",fontWeight:"bold",children:"Hapus Barang"}),(0,r.jsx)(u.f,{children:(0,r.jsx)(o.x,{children:(0,r.jsxs)(d.i,{variant:"simple",children:[(0,r.jsx)(h.h,{top:"0px",bgColor:"#161A30",children:(0,r.jsxs)(x.Tr,{children:[(0,r.jsx)(j.Th,{textColor:"white",children:"Nama Barang"}),(0,r.jsx)(j.Th,{textColor:"white",children:"Satuan"}),(0,r.jsx)(j.Th,{textColor:"white",children:"Harga"})]})}),(0,r.jsx)(f.p,{children:(0,r.jsxs)(x.Tr,{children:[(0,r.jsx)(m.Td,{children:e.nama_barang}),(0,r.jsx)(m.Td,{children:e.satuan}),(0,r.jsx)(m.Td,{isNumeric:!0,children:Number(e.harga.replace(/\D/g,"")).toLocaleString(void 0,{maximumFractionDigits:2})})]})})]})})}),(0,r.jsxs)(_.m,{children:[(0,r.jsx)(s.z,{onClick:p,children:"Batal"}),(0,r.jsx)(s.z,{colorScheme:"red",onClick:()=>{fetch("api/hapus_barang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id,nama_barang:e.nama_barang})}).then(e=>e.json()).then(t=>{t.deletedCount>0?(b({title:"Data Berhasil Dihapus",status:"success",isClosable:!0}),e.setData(e.data.filter(t=>t._id!==e._id)),p()):b({title:"Data Gagal Dihapus",status:"error",isClosable:!0})})},ml:3,children:"Hapus"})]})]})})})]})},y=e=>{let t=e.data.filter(e.filterFunction);return(0,r.jsx)(f.p,{children:""!==e.searchValue&&t.map((t,n)=>{let{nama_barang:a="",satuan:s="",harga:i="",_id:l=""}=t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x.Tr,{children:(0,r.jsx)(m.Td,{children:(0,r.jsx)(k,{nama_barang:a,satuan:s,harga:i,setData:e.setData,data:e.data,_id:l})})},n)})})})};function D(e){let{isOpen:t,onOpen:n,onClose:a}=(0,w.q)(),[i,h]=(0,S.useState)(""),x=(0,S.useCallback)(e=>e.nama_barang.toLowerCase().includes(i.toLowerCase()),[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.z,{colorScheme:"red",onClick:n,children:"Hapus Barang"}),(0,r.jsxs)(p.u_,{isOpen:t,onClose:a,children:[(0,r.jsx)(l.Z,{}),(0,r.jsxs)(g.h,{children:[(0,r.jsx)(c.x,{children:"Hapus Barang"}),(0,r.jsx)(b.o,{}),(0,r.jsx)(u.f,{children:(0,r.jsx)(v.xu,{rounded:"lg",bg:(0,C.ff)("white","gray.700"),boxShadow:"lg",p:"8",children:(0,r.jsxs)(v.xu,{p:"5",children:[(0,r.jsx)(T.I,{placeholder:"Cari Barang",type:"text",value:i,onChange:e=>h(e.target.value),marginBottom:"5"}),(0,r.jsx)(o.x,{overflowY:"auto",maxHeight:"300px",minHeight:"calc(40vh)",children:(0,r.jsx)(d.i,{variant:"simple",children:(0,r.jsx)(y,{data:e.data,filterFunction:x,searchValue:i,setData:e.setData})})})]})})})]})]})]})}},5512:function(e,t,n){"use strict";n.d(t,{_:function(){return c},a:function(){return l}});var r=n(5260),a=n(5541),s=n(6554),i=n(5893);function l(e){let{leastDestructiveRef:t,...n}=e;return(0,i.jsx)(a.u_,{...n,initialFocusRef:t})}var c=(0,s.G)((e,t)=>(0,i.jsx)(r.h,{ref:t,role:"alertdialog",...e}))},9840:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var r=n(991),a=n(6554),s=n(6914),i=n(5893),l=(0,a.G)((e,t)=>{let n=(0,r.p)();return(0,i.jsx)(s.m.thead,{...e,ref:t,__css:n.thead})})},991:function(e,t,n){"use strict";n.d(t,{i:function(){return h},p:function(){return d}});var r=n(6554),a=n(7030),s=n(3179),i=n(6914),l=n(5432),c=n(5227),u=n(5893),[o,d]=(0,c.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),h=(0,r.G)((e,t)=>{let n=(0,a.jC)("Table",e),{className:r,layout:c,...d}=(0,s.Lr)(e);return(0,u.jsx)(o,{value:n,children:(0,u.jsx)(i.m.table,{ref:t,__css:{tableLayout:c,...n.table},className:(0,l.cx)("chakra-table",r),...d})})});h.displayName="Table"},510:function(e,t,n){"use strict";n.d(t,{Tr:function(){return l}});var r=n(991),a=n(6554),s=n(6914),i=n(5893),l=(0,a.G)((e,t)=>{let n=(0,r.p)();return(0,i.jsx)(s.m.tr,{...e,ref:t,__css:n.tr})})},5115:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(991),a=n(6554),s=n(6914),i=n(5893),l=(0,a.G)((e,t)=>{let n=(0,r.p)();return(0,i.jsx)(s.m.tbody,{...e,ref:t,__css:n.tbody})})},4693:function(e,t,n){"use strict";n.d(t,{Th:function(){return l}});var r=n(991),a=n(6554),s=n(6914),i=n(5893),l=(0,a.G)(({isNumeric:e,...t},n)=>{let a=(0,r.p)();return(0,i.jsx)(s.m.th,{...t,ref:n,__css:a.th,"data-is-numeric":e})})},1557:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var r=n(6554),a=n(6914),s=n(5432),i=n(5893),l=(0,r.G)((e,t)=>{var n;let{overflow:r,overflowX:l,className:c,...u}=e;return(0,i.jsx)(a.m.div,{ref:t,className:(0,s.cx)("chakra-table__container",c),...u,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(n=null!=r?r:l)?n:"auto",overflowY:"hidden",maxWidth:"100%"}})})},4698:function(e,t,n){"use strict";n.d(t,{Td:function(){return l}});var r=n(991),a=n(6554),s=n(6914),i=n(5893),l=(0,a.G)(({isNumeric:e,...t},n)=>{let a=(0,r.p)();return(0,i.jsx)(s.m.td,{...t,ref:n,__css:a.td,"data-is-numeric":e})})}},function(e){e.O(0,[774,203,581,888,179],function(){return e(e.s=5051)}),_N_E=e.O()}]);