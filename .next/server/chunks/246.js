"use strict";exports.id=246,exports.ids=[246],exports.modules={1323:(e,a)=>{Object.defineProperty(a,"l",{enumerable:!0,get:function(){return function e(a,t){return t in a?a[t]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,t)):"function"==typeof a&&"default"===t?a:void 0}}})},1337:(e,a,t)=>{Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return o}});let n=t(167),r=n._(t(6689)),l=t(109);async function s(e){let{Component:a,ctx:t}=e,n=await (0,l.loadGetInitialProps)(a,t);return{pageProps:n}}class o extends r.default.Component{render(){let{Component:e,pageProps:a}=this.props;return r.default.createElement(e,a)}}o.origGetInitialProps=s,o.getInitialProps=s,("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},4829:(e,a,t)=>{t.a(e,async(e,n)=>{try{t.r(a),t.d(a,{default:()=>i});var r=t(997),l=t(2210),s=t(6689),o=e([l]);function i(e){let{isOpen:a,onOpen:t,onClose:n}=(0,l.useDisclosure)(),[o,i]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),j=(0,l.useToast)(),p=e=>e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),m=()=>{fetch("api/tambah_barang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nama_barang:p(o),satuan:p(d),kategori:p(u),harga:p(x)})})};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Button,{colorScheme:"blue",onClick:t,children:"Tambah Barang"}),(0,r.jsxs)(l.Modal,{isOpen:a,onClose:n,children:[r.jsx(l.ModalOverlay,{}),(0,r.jsxs)(l.ModalContent,{children:[r.jsx(l.ModalHeader,{children:"Tambah Barang"}),r.jsx(l.ModalCloseButton,{}),r.jsx(l.ModalBody,{children:r.jsx(l.Box,{rounded:"lg",bg:(0,l.useColorModeValue)("white","gray.700"),boxShadow:"lg",p:8,children:(0,r.jsxs)(l.Stack,{spacing:4,children:[(0,r.jsxs)(l.FormControl,{id:"nama_baranng",isRequired:!0,children:[r.jsx(l.FormLabel,{children:"Nama Barang"}),r.jsx(l.Input,{type:"text",value:o,onChange:e=>i(e.target.value)})]}),(0,r.jsxs)(l.FormControl,{id:"satuan",isRequired:!0,children:[r.jsx(l.FormLabel,{children:"Satuan"}),r.jsx(l.Input,{type:"text",value:d,onChange:e=>c(e.target.value)})]}),(0,r.jsxs)(l.FormControl,{id:"kategori",isRequired:!0,children:[r.jsx(l.FormLabel,{children:"Kategori"}),r.jsx(l.Input,{type:"text",value:u,onChange:e=>h(e.target.value)})]}),(0,r.jsxs)(l.FormControl,{id:"harga",isRequired:!0,children:[r.jsx(l.FormLabel,{children:"Harga"}),r.jsx(l.Input,{type:"text",value:x,onChange:e=>g(e.target.value)})]})]})})}),(0,r.jsxs)(l.ModalFooter,{children:[r.jsx(l.Button,{colorScheme:"blue",mr:3,onClick:n,children:"Close"}),r.jsx(l.Button,{variant:"ghost",onClick:()=>{""!==o&&""!==d&&""!==u&&""!==x?(m(),e.dataCallback(),e.dataCallback(),n(),j({title:"Berhasil",description:"Data Berhasil Diisi",status:"success",duration:5e3,isClosable:!0})):j({title:"Form Error",description:"Mohon Isi Form Dengan Lengkap",status:"error",duration:5e3,isClosable:!0})},id:"submit_button",children:"OK"})]})]})]})]})}l=(o.then?(await o)():o)[0],n()}catch(e){n(e)}})},1413:(e,a,t)=>{t.a(e,async(e,n)=>{try{t.r(a),t.d(a,{default:()=>d});var r=t(997),l=t(2210),s=t(6689),o=t.n(s),i=e([l]);l=(i.then?(await i)():i)[0];let c=e=>{let{isOpen:a,onOpen:t,onClose:n}=(0,l.useDisclosure)(),s=o().useRef(),i=(0,l.useToast)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.Button,{colorScheme:"messenger",onClick:t,width:"100%",children:[e.nama_barang," | ",e.satuan]}),r.jsx(l.AlertDialog,{isOpen:a,leastDestructiveRef:s,onClose:n,children:r.jsx(l.AlertDialogOverlay,{children:(0,r.jsxs)(l.AlertDialogContent,{children:[r.jsx(l.AlertDialogHeader,{fontSize:"lg",fontWeight:"bold",children:"Hapus Barang"}),r.jsx(l.AlertDialogBody,{children:r.jsx(l.TableContainer,{children:(0,r.jsxs)(l.Table,{variant:"simple",children:[r.jsx(l.Thead,{top:"0px",bgColor:"#161A30",children:(0,r.jsxs)(l.Tr,{children:[r.jsx(l.Th,{textColor:"white",children:"Nama Barang"}),r.jsx(l.Th,{textColor:"white",children:"Satuan"}),r.jsx(l.Th,{textColor:"white",children:"Harga"})]})}),r.jsx(l.Tbody,{children:(0,r.jsxs)(l.Tr,{children:[r.jsx(l.Td,{children:e.nama_barang}),r.jsx(l.Td,{children:e.satuan}),r.jsx(l.Td,{isNumeric:!0,children:Number(e.harga.replace(/\D/g,"")).toLocaleString(void 0,{maximumFractionDigits:2})})]})})]})})}),(0,r.jsxs)(l.AlertDialogFooter,{children:[r.jsx(l.Button,{onClick:n,children:"Batal"}),r.jsx(l.Button,{colorScheme:"red",onClick:()=>{fetch("api/hapus_barang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id,nama_barang:e.nama_barang})}).then(e=>e.json()).then(a=>{a.deletedCount>0?(i({title:"Data Berhasil Dihapus",status:"success",isClosable:!0}),e.setData(e.data.filter(a=>a._id!==e._id)),n()):i({title:"Data Gagal Dihapus",status:"error",isClosable:!0})})},ml:3,children:"Hapus"})]})]})})})]})},u=e=>{let a=e.data.filter(e.filterFunction);return r.jsx(l.Tbody,{children:""!==e.searchValue&&a.map(({nama_barang:a="",satuan:t="",harga:n="",_id:s=""},o)=>r.jsx(r.Fragment,{children:r.jsx(l.Tr,{children:r.jsx(l.Td,{children:r.jsx(c,{nama_barang:a,satuan:t,harga:n,setData:e.setData,data:e.data,_id:s})})},o)}))})};function d(e){let{isOpen:a,onOpen:t,onClose:n}=(0,l.useDisclosure)(),[o,i]=(0,s.useState)(""),d=(0,s.useCallback)(e=>e.nama_barang.toLowerCase().includes(o.toLowerCase()),[o]);return(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Button,{colorScheme:"red",onClick:t,children:"Hapus Barang"}),(0,r.jsxs)(l.Modal,{isOpen:a,onClose:n,children:[r.jsx(l.ModalOverlay,{}),(0,r.jsxs)(l.ModalContent,{children:[r.jsx(l.ModalHeader,{children:"Hapus Barang"}),r.jsx(l.ModalCloseButton,{}),r.jsx(l.ModalBody,{children:r.jsx(l.Box,{rounded:"lg",bg:(0,l.useColorModeValue)("white","gray.700"),boxShadow:"lg",p:"8",children:(0,r.jsxs)(l.Box,{p:"5",children:[r.jsx(l.Input,{placeholder:"Cari Barang",type:"text",value:o,onChange:e=>i(e.target.value),marginBottom:"5"}),r.jsx(l.TableContainer,{overflowY:"auto",maxHeight:"300px",minHeight:"calc(40vh)",children:r.jsx(l.Table,{variant:"simple",children:r.jsx(u,{data:e.data,filterFunction:d,searchValue:o,setData:e.setData})})})]})})})]})]})]})}n()}catch(e){n(e)}})},8136:(e,a,t)=>{t.a(e,async(e,n)=>{try{t.r(a),t.d(a,{default:()=>d});var r=t(997),l=t(2210),s=t(4829),o=t(1413),i=e([l,s,o]);function d(e){return r.jsx(r.Fragment,{children:r.jsx(l.Box,{bg:(0,l.useColorModeValue)("gray.100","gray.900"),px:4,children:r.jsx(l.Flex,{h:16,alignItems:"center",justifyContent:"space-between",children:(0,r.jsxs)(l.HStack,{spacing:4,alignItems:"center",children:[r.jsx(s.default,{dataCallback:e.dataCallback}),r.jsx(l.Button,{colorScheme:"green",children:"Edit Barang"}),r.jsx(o.default,{data:e.data,setData:e.setData})]})})})})}[l,s,o]=i.then?(await i)():i,n()}catch(e){n(e)}})},5244:(e,a)=>{var t;Object.defineProperty(a,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))}};