"use strict";(()=>{var e={};e.id=445,e.ids=[445,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},8857:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>f,default:()=>p,getServerSideProps:()=>j,getStaticPaths:()=>x,getStaticProps:()=>g,reportWebVitals:()=>b,routeModule:()=>C,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>m});var n=a(7093),l=a(5244),s=a(1323),i=a(9209),o=a.n(i),d=a(1337),u=a.n(d),c=a(1413),h=e([c]);c=(h.then?(await h)():h)[0];let p=(0,s.l)(c,"default"),g=(0,s.l)(c,"getStaticProps"),x=(0,s.l)(c,"getStaticPaths"),j=(0,s.l)(c,"getServerSideProps"),f=(0,s.l)(c,"config"),b=(0,s.l)(c,"reportWebVitals"),m=(0,s.l)(c,"unstable_getStaticProps"),P=(0,s.l)(c,"unstable_getStaticPaths"),_=(0,s.l)(c,"unstable_getStaticParams"),S=(0,s.l)(c,"unstable_getServerProps"),v=(0,s.l)(c,"unstable_getServerSideProps"),C=new n.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/contents/delete_stuff",pathname:"/contents/delete_stuff",bundlePath:"",filename:""},components:{App:u(),Document:o()},userland:c});r()}catch(e){r(e)}})},1337:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=a(167),n=r._(a(6689)),l=a(109);async function s(e){let{Component:t,ctx:a}=e,r=await (0,l.loadGetInitialProps)(t,a);return{pageProps:r}}class i extends n.default.Component{render(){let{Component:e,pageProps:t}=this.props;return n.default.createElement(e,t)}}i.origGetInitialProps=s,i.getInitialProps=s,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1413:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>d});var n=a(997),l=a(2210),s=a(6689),i=a.n(s),o=e([l]);l=(o.then?(await o)():o)[0];let u=e=>{let{isOpen:t,onOpen:a,onClose:r}=(0,l.useDisclosure)(),s=i().useRef(),o=(0,l.useToast)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.Button,{colorScheme:"messenger",onClick:a,width:"100%",children:[e.nama_barang," | ",e.satuan]}),n.jsx(l.AlertDialog,{isOpen:t,leastDestructiveRef:s,onClose:r,children:n.jsx(l.AlertDialogOverlay,{children:(0,n.jsxs)(l.AlertDialogContent,{children:[n.jsx(l.AlertDialogHeader,{fontSize:"lg",fontWeight:"bold",children:"Hapus Barang"}),n.jsx(l.AlertDialogBody,{children:n.jsx(l.TableContainer,{children:(0,n.jsxs)(l.Table,{variant:"simple",children:[n.jsx(l.Thead,{top:"0px",bgColor:"#161A30",children:(0,n.jsxs)(l.Tr,{children:[n.jsx(l.Th,{textColor:"white",children:"Nama Barang"}),n.jsx(l.Th,{textColor:"white",children:"Satuan"}),n.jsx(l.Th,{textColor:"white",children:"Harga"})]})}),n.jsx(l.Tbody,{children:(0,n.jsxs)(l.Tr,{children:[n.jsx(l.Td,{children:e.nama_barang}),n.jsx(l.Td,{children:e.satuan}),n.jsx(l.Td,{isNumeric:!0,children:Number(e.harga.replace(/\D/g,"")).toLocaleString(void 0,{maximumFractionDigits:2})})]})})]})})}),(0,n.jsxs)(l.AlertDialogFooter,{children:[n.jsx(l.Button,{onClick:r,children:"Batal"}),n.jsx(l.Button,{colorScheme:"red",onClick:()=>{fetch("api/hapus_barang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id,nama_barang:e.nama_barang})}).then(e=>e.json()).then(t=>{t.deletedCount>0?(o({title:"Data Berhasil Dihapus",status:"success",isClosable:!0}),e.setData(e.data.filter(t=>t._id!==e._id)),r()):o({title:"Data Gagal Dihapus",status:"error",isClosable:!0})})},ml:3,children:"Hapus"})]})]})})})]})},c=e=>{let t=e.data.filter(e.filterFunction);return n.jsx(l.Tbody,{children:""!==e.searchValue&&t.map(({nama_barang:t="",satuan:a="",harga:r="",_id:s=""},i)=>n.jsx(n.Fragment,{children:n.jsx(l.Tr,{children:n.jsx(l.Td,{children:n.jsx(u,{nama_barang:t,satuan:a,harga:r,setData:e.setData,data:e.data,_id:s})})},i)}))})};function d(e){let{isOpen:t,onOpen:a,onClose:r}=(0,l.useDisclosure)(),[i,o]=(0,s.useState)(""),d=(0,s.useCallback)(e=>e.nama_barang.toLowerCase().includes(i.toLowerCase()),[i]);return(0,n.jsxs)(n.Fragment,{children:[n.jsx(l.Button,{colorScheme:"red",onClick:a,children:"Hapus Barang"}),(0,n.jsxs)(l.Modal,{isOpen:t,onClose:r,children:[n.jsx(l.ModalOverlay,{}),(0,n.jsxs)(l.ModalContent,{children:[n.jsx(l.ModalHeader,{children:"Hapus Barang"}),n.jsx(l.ModalCloseButton,{}),n.jsx(l.ModalBody,{children:n.jsx(l.Box,{rounded:"lg",bg:(0,l.useColorModeValue)("white","gray.700"),boxShadow:"lg",p:"8",children:(0,n.jsxs)(l.Box,{p:"5",children:[n.jsx(l.Input,{placeholder:"Cari Barang",type:"text",value:i,onChange:e=>o(e.target.value),marginBottom:"5"}),n.jsx(l.TableContainer,{overflowY:"auto",maxHeight:"300px",minHeight:"calc(40vh)",children:n.jsx(l.Table,{variant:"simple",children:n.jsx(c,{data:e.data,filterFunction:d,searchValue:i,setData:e.setData})})})]})})})]})]})]})}r()}catch(e){r(e)}})},5244:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},2210:e=>{e.exports=import("@chakra-ui/react")},1017:e=>{e.exports=require("path")}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[209],()=>a(8857));module.exports=r})();