"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[136],{4829:function(e,a,t){t.r(a),t.d(a,{default:function(){return _}});var n=t(5893),r=t(7963),s=t(4225),i=t(5541),l=t(9778),c=t(5260),d=t(4859),h=t(6205),o=t(4346),u=t(7747),x=t(2291),j=t(5970),g=t(5418),p=t(1025),m=t(4253),b=t(967),f=t(5161),C=t(7294);function _(e){let{isOpen:a,onOpen:t,onClose:_}=(0,b.q)(),[S,k]=(0,C.useState)(""),[v,D]=(0,C.useState)(""),[w,y]=(0,C.useState)(""),[T,B]=(0,C.useState)(""),I=(0,r.p)(),N=e=>e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),F=()=>{fetch("api/tambah_barang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nama_barang:N(S),satuan:N(v),kategori:N(w),harga:N(T)})})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.z,{colorScheme:"blue",onClick:t,children:"Tambah Barang"}),(0,n.jsxs)(i.u_,{isOpen:a,onClose:_,children:[(0,n.jsx)(l.Z,{}),(0,n.jsxs)(c.h,{children:[(0,n.jsx)(d.x,{children:"Tambah Barang"}),(0,n.jsx)(h.o,{}),(0,n.jsx)(o.f,{children:(0,n.jsx)(u.xu,{rounded:"lg",bg:(0,f.ff)("white","gray.700"),boxShadow:"lg",p:8,children:(0,n.jsxs)(x.K,{spacing:4,children:[(0,n.jsxs)(j.NI,{id:"nama_baranng",isRequired:!0,children:[(0,n.jsx)(g.l,{children:"Nama Barang"}),(0,n.jsx)(p.I,{type:"text",value:S,onChange:e=>k(e.target.value)})]}),(0,n.jsxs)(j.NI,{id:"satuan",isRequired:!0,children:[(0,n.jsx)(g.l,{children:"Satuan"}),(0,n.jsx)(p.I,{type:"text",value:v,onChange:e=>D(e.target.value)})]}),(0,n.jsxs)(j.NI,{id:"kategori",isRequired:!0,children:[(0,n.jsx)(g.l,{children:"Kategori"}),(0,n.jsx)(p.I,{type:"text",value:w,onChange:e=>y(e.target.value)})]}),(0,n.jsxs)(j.NI,{id:"harga",isRequired:!0,children:[(0,n.jsx)(g.l,{children:"Harga"}),(0,n.jsx)(p.I,{type:"text",value:T,onChange:e=>B(e.target.value)})]})]})})}),(0,n.jsxs)(m.m,{children:[(0,n.jsx)(s.z,{colorScheme:"blue",mr:3,onClick:_,children:"Close"}),(0,n.jsx)(s.z,{variant:"ghost",onClick:()=>{""!==S&&""!==v&&""!==w&&""!==T?(F(),e.dataCallback(),e.dataCallback(),_(),I({title:"Berhasil",description:"Data Berhasil Diisi",status:"success",duration:5e3,isClosable:!0})):I({title:"Form Error",description:"Mohon Isi Form Dengan Lengkap",status:"error",duration:5e3,isClosable:!0})},id:"submit_button",children:"OK"})]})]})]})]})}},1413:function(e,a,t){t.r(a),t.d(a,{default:function(){return T}});var n=t(5893),r=t(7963),s=t(4225),i=t(5512),l=t(9778),c=t(4859),d=t(4346),h=t(1557),o=t(991),u=t(9840),x=t(510),j=t(4693),g=t(5115),p=t(4698),m=t(4253),b=t(5541),f=t(5260),C=t(6205),_=t(7747),S=t(5161),k=t(1025),v=t(967),D=t(7294);let w=e=>{let{isOpen:a,onOpen:t,onClose:b}=(0,v.q)(),f=D.useRef(),C=(0,r.p)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.z,{colorScheme:"messenger",onClick:t,width:"100%",children:[e.nama_barang," | ",e.satuan]}),(0,n.jsx)(i.a,{isOpen:a,leastDestructiveRef:f,onClose:b,children:(0,n.jsx)(l.Z,{children:(0,n.jsxs)(i._,{children:[(0,n.jsx)(c.x,{fontSize:"lg",fontWeight:"bold",children:"Hapus Barang"}),(0,n.jsx)(d.f,{children:(0,n.jsx)(h.x,{children:(0,n.jsxs)(o.i,{variant:"simple",children:[(0,n.jsx)(u.h,{top:"0px",bgColor:"#161A30",children:(0,n.jsxs)(x.Tr,{children:[(0,n.jsx)(j.Th,{textColor:"white",children:"Nama Barang"}),(0,n.jsx)(j.Th,{textColor:"white",children:"Satuan"}),(0,n.jsx)(j.Th,{textColor:"white",children:"Harga"})]})}),(0,n.jsx)(g.p,{children:(0,n.jsxs)(x.Tr,{children:[(0,n.jsx)(p.Td,{children:e.nama_barang}),(0,n.jsx)(p.Td,{children:e.satuan}),(0,n.jsx)(p.Td,{isNumeric:!0,children:Number(e.harga.replace(/\D/g,"")).toLocaleString(void 0,{maximumFractionDigits:2})})]})})]})})}),(0,n.jsxs)(m.m,{children:[(0,n.jsx)(s.z,{onClick:b,children:"Batal"}),(0,n.jsx)(s.z,{colorScheme:"red",onClick:()=>{fetch("api/hapus_barang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id,nama_barang:e.nama_barang})}).then(e=>e.json()).then(a=>{a.deletedCount>0?(C({title:"Data Berhasil Dihapus",status:"success",isClosable:!0}),e.setData(e.data.filter(a=>a._id!==e._id)),b()):C({title:"Data Gagal Dihapus",status:"error",isClosable:!0})})},ml:3,children:"Hapus"})]})]})})})]})},y=e=>{let a=e.data.filter(e.filterFunction);return(0,n.jsx)(g.p,{children:""!==e.searchValue&&a.map((a,t)=>{let{nama_barang:r="",satuan:s="",harga:i="",_id:l=""}=a;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x.Tr,{children:(0,n.jsx)(p.Td,{children:(0,n.jsx)(w,{nama_barang:r,satuan:s,harga:i,setData:e.setData,data:e.data,_id:l})})},t)})})})};function T(e){let{isOpen:a,onOpen:t,onClose:r}=(0,v.q)(),[i,u]=(0,D.useState)(""),x=(0,D.useCallback)(e=>e.nama_barang.toLowerCase().includes(i.toLowerCase()),[i]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.z,{colorScheme:"red",onClick:t,children:"Hapus Barang"}),(0,n.jsxs)(b.u_,{isOpen:a,onClose:r,children:[(0,n.jsx)(l.Z,{}),(0,n.jsxs)(f.h,{children:[(0,n.jsx)(c.x,{children:"Hapus Barang"}),(0,n.jsx)(C.o,{}),(0,n.jsx)(d.f,{children:(0,n.jsx)(_.xu,{rounded:"lg",bg:(0,S.ff)("white","gray.700"),boxShadow:"lg",p:"8",children:(0,n.jsxs)(_.xu,{p:"5",children:[(0,n.jsx)(k.I,{placeholder:"Cari Barang",type:"text",value:i,onChange:e=>u(e.target.value),marginBottom:"5"}),(0,n.jsx)(h.x,{overflowY:"auto",maxHeight:"300px",minHeight:"calc(40vh)",children:(0,n.jsx)(o.i,{variant:"simple",children:(0,n.jsx)(y,{data:e.data,filterFunction:x,searchValue:i,setData:e.setData})})})]})})})]})]})]})}},8136:function(e,a,t){t.r(a),t.d(a,{default:function(){return o}});var n=t(5893),r=t(7747),s=t(5161),i=t(3717),l=t(4292),c=t(4225),d=t(4829),h=t(1413);function o(e){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.xu,{bg:(0,s.ff)("gray.100","gray.900"),px:4,children:(0,n.jsx)(i.k,{h:16,alignItems:"center",justifyContent:"space-between",children:(0,n.jsxs)(l.U,{spacing:4,alignItems:"center",children:[(0,n.jsx)(d.default,{dataCallback:e.dataCallback}),(0,n.jsx)(c.z,{colorScheme:"green",children:"Edit Barang"}),(0,n.jsx)(h.default,{data:e.data,setData:e.setData})]})})})})}}}]);